import{r as a,l as g,c as x,a as e,n as r,t as c,i as h,j as b,m as v,u as y,f as w,k as _,o as k,g as C}from"./app-CpCrk5cI.js";/* empty css            */const j={class:r("fixed z-10 inset-0 overflow-y-auto "),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},$={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},B={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},z={class:"sm:flex sm:items-start"},N={class:"mt-3 text-center sm:mt-0 sm:mr-4 sm:text-right"},T={id:"modal-title",class:"text-lg leading-6 font-medium text-gray-900"},V={class:"mt-2"},L={class:"text-sm text-gray-500"},M={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row"},E={__name:"delete",setup(R){const d=v(),m=y(),n=a(null),s=a(!1),i=a(!1),l=a("");g(()=>{n.value=d.params.id,l.value=d.query.type,setTimeout(()=>{s.value=!0},50)});const u=()=>{s.value=!1,setTimeout(()=>m.back(),100)},f=()=>{i.value=!0,w.delete(`/api/appointments/${n.value}`).then(({data:o})=>{bus.$emit("flash-message",{text:o.message,type:"success"}),bus.$emit("appointment-changed",n.value),m.push({name:"appointments"})}).catch(({response:o})=>{bus.$emit("flash-message",{text:o.data.message,type:"error"})}).finally(()=>{i.value=!1})};return(o,t)=>{const p=_("c-async-button");return k(),x("div",j,[e("div",$,[e("div",{class:r(`fixed inset-0 bg-gray-500 transition-opacity duration-200 ${s.value?"bg-opacity-75":"bg-opacity-0"}`),"aria-hidden":"true",onClick:u},null,2),t[2]||(t[2]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",{class:r(`inline-block w-full align-bottom bg-white rounded-lg text-right overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-xl sm:w-full duration-200  ${s.value?"scale-100":"scale-0"}`)},[e("div",B,[e("div",z,[t[0]||(t[0]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",N,[e("h3",T,"حذف "+c(l.value),1),e("div",V,[e("p",L,"هل أنت متأكد من حذف هذا ال"+c(l.value)+"؟",1)])])])]),e("div",M,[h(p,{type:"button",loading:i.value,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:mr-3 sm:w-auto sm:text-sm",onClick:f},{default:b(()=>t[1]||(t[1]=[C(" حذف ")]),void 0),_:1},8,["loading"]),e("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mr-3 sm:w-auto sm:text-sm",onClick:u}," إلغاء ")])],2)])])}}};export{E as default};
