import{r as x,p as k,l as h,c as a,a as t,n as p,b as i,v as r,t as d,d as m,i as w,j as _,q as V,f as U,k as C,o as n,g as B}from"./app-CpCrk5cI.js";/* empty css            */const N={class:p("fixed z-10 inset-0 overflow-y-auto "),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},M={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},T={class:"bg-white px-4 pt-5 sm:p-6"},j={class:"grid grid-cols-2 gap-6"},D={class:""},Y={key:0,class:"text-red-600 text-xs text-right block"},$={class:""},A={key:0,class:"text-red-600 text-xs text-right block"},E={class:""},F={key:0,class:"text-red-600 text-xs text-right block"},z={class:""},L={key:0,class:"text-red-600 text-xs text-right block"},S={class:""},q={key:0,class:"text-red-600 text-xs text-right block"},I={class:"grid grid-cols-2 gap-6"},R={class:""},G={key:0,class:"text-red-600 text-xs text-right block"},H={class:""},J={key:0,class:"text-red-600 text-xs text-right block"},K={class:""},O={key:0,class:"text-red-600 text-xs text-right block"},P={class:"col-span-full"},Q={key:0,class:"text-red-600 text-xs text-right block"},W={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-revers"},te={__name:"create",setup(X){const g=x(!1),b=x(!1),s=x({}),o=k({name:"",age:"",file_number:"",phone:"",date:"",amount:"",remaining_amount:"",notes:"",mobile:""}),f=()=>{g.value=!1,setTimeout(()=>{window.history.back()},300)},c=()=>{s.value={},b.value=!0,o.date=V(o.date,"YYYY-MM-DD").add(1,"days"),U.post("/api/patients",{...o}).then(({data:u})=>{bus.$emit("flash-message",{text:u.message,type:"success"}),bus.$emit("item-created",!0),lastFileNumber++,f()}).catch(u=>{u.response&&u.response.status===422&&(s.value=u.response.data.errors)}).finally(()=>{b.value=!1})},y=()=>{o.name="",o.age="",o.file_number="",o.phone="",o.date="",o.amount="",o.remaining_amount="",o.notes="",o.mobile=""};return h(()=>{setTimeout(()=>{g.value=!0,y(),o.file_number=LAST_FILE_NUMBER},50)}),(u,e)=>{const v=C("CAsyncButton");return n(),a("div",N,[t("div",M,[t("div",{class:p(`fixed inset-0 bg-gray-500 transition-opacity duration-200 ${g.value?"bg-opacity-75":"bg-opacity-0"}`),"aria-hidden":"true",onClick:f},null,2),e[21]||(e[21]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),t("div",{class:p(`inline-block w-full align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-xl sm:w-full duration-200  ${g.value?"scale-100":"scale-0"}`)},[e[20]||(e[20]=t("div",{class:"bg-gray-50 px-4 py-2 border-b border-gray-300 text-right"},[t("h3",{class:"font-bold text-lg text-gray-700"},"إضافة مريض")],-1)),t("div",T,[t("div",j,[t("div",D,[e[9]||(e[9]=t("label",{for:"file_number",class:"block text-sm font-medium text-gray-700 text-right"},"رقم الملف",-1)),i(t("input",{id:"file_number","onUpdate:modelValue":e[0]||(e[0]=l=>o.file_number=l),type:"text",autocomplete:"file_number",disabled:"",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.file_number]]),s.value&&s.value.file_number?(n(),a("small",Y,d(s.value.file_number[0]),1)):m("",!0)]),t("div",$,[e[10]||(e[10]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 text-right"},"الاسم الكامل",-1)),i(t("input",{id:"name","onUpdate:modelValue":e[1]||(e[1]=l=>o.name=l),type:"text",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.name]]),s.value&&s.value.name?(n(),a("small",A,d(s.value.name[0]),1)):m("",!0)]),t("div",E,[e[11]||(e[11]=t("label",{for:"age",class:"block text-sm font-medium text-gray-700 text-right"},"العمر",-1)),i(t("input",{id:"age","onUpdate:modelValue":e[2]||(e[2]=l=>o.age=l),type:"number",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.age]]),s.value&&s.value.age?(n(),a("small",F,d(s.value.age[0]),1)):m("",!0)]),t("div",z,[e[12]||(e[12]=t("label",{for:"phone",class:"block text-sm font-medium text-gray-700 text-right"},"رقم الهاتف",-1)),i(t("input",{id:"phone","onUpdate:modelValue":e[3]||(e[3]=l=>o.phone=l),type:"tel",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.phone]]),s.value&&s.value.phone?(n(),a("small",L,d(s.value.phone[0]),1)):m("",!0)]),t("div",S,[e[13]||(e[13]=t("label",{for:"mobile",class:"block text-sm font-medium text-gray-700 text-right"},"رقم الموبايل",-1)),i(t("input",{id:"mobile","onUpdate:modelValue":e[4]||(e[4]=l=>o.mobile=l),type:"tel",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.mobile]]),s.value&&s.value.mobile?(n(),a("small",q,d(s.value.mobile[0]),1)):m("",!0)])]),e[18]||(e[18]=t("hr",{class:"my-6"},null,-1)),t("div",I,[t("div",R,[e[14]||(e[14]=t("label",{for:"date",class:"block text-sm font-medium text-gray-700 text-right"},"تاريخ الزيارة",-1)),i(t("input",{id:"date","onUpdate:modelValue":e[5]||(e[5]=l=>o.date=l),type:"date",autocomplete:"off"},null,512),[[r,o.date]]),s.value&&s.value.date?(n(),a("small",G,d(s.value.date[0]),1)):m("",!0)]),t("div",H,[e[15]||(e[15]=t("label",{for:"amount",class:"block text-sm font-medium text-gray-700 text-right"},"المبلغ المدفوع",-1)),i(t("input",{id:"amount","onUpdate:modelValue":e[6]||(e[6]=l=>o.amount=l),type:"number",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.amount]]),s.value&&s.value.amount?(n(),a("small",J,d(s.value.amount[0]),1)):m("",!0)]),t("div",K,[e[16]||(e[16]=t("label",{for:"remaining_amount",class:"block text-sm font-medium text-gray-700 text-right"},"المبلغ المتبقي",-1)),i(t("input",{id:"remaining_amount","onUpdate:modelValue":e[7]||(e[7]=l=>o.remaining_amount=l),type:"number",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.remaining_amount]]),s.value&&s.value.remaining_amount?(n(),a("small",O,d(s.value.remaining_amount[0]),1)):m("",!0)]),t("div",P,[e[17]||(e[17]=t("label",{for:"notes",class:"block text-sm font-medium text-gray-700 text-right"},"الإجراء الذي تم",-1)),i(t("textarea",{id:"notes","onUpdate:modelValue":e[8]||(e[8]=l=>o.notes=l),autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[r,o.notes]]),s.value&&s.value.notes?(n(),a("small",Q,d(s.value.notes[0]),1)):m("",!0)])])]),t("div",W,[t("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:f}," إلغاء "),w(v,{type:"button",loading:b.value,class:"w-full inline-flex justify-center rounded-md border border-transparent transition duration-75 transition-all shadow-sm px-4 py-2 bg-teal-600 text-base font-medium text-white hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:c},{default:_(()=>e[19]||(e[19]=[B("تأكيد")]),void 0),_:1},8,["loading"])])],2)])])}}};export{te as default};
