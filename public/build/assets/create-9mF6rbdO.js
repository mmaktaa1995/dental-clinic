import{_ as b,f as p,c as r,a as s,n as f,b as d,y as c,F as y,z as k,t as i,d as m,v as a,i as h,j as w,k as v,o as n,g as _}from"./app-CpCrk5cI.js";/* empty css            */const C={data(){return{opened:!1,submitted:!1,errors:{},form:{date:"",amount:"",remaining_amount:"",notes:"",patient_id:""},patients:[]}},mounted(){setTimeout(()=>{this.opened=!0,this.resetform(),p.get("/api/patients/dropdown").then(({data:l})=>{this.patients=l})},50)},methods:{back(){this.opened=!1,setTimeout(()=>this.$router.back(),300)},create(){const l=this;this.errors={},this.submitted=!0,p.post("/api/payments",{...l.form}).then(({data:t})=>{bus.$emit("flash-message",{text:t.message,type:"success"}),bus.$emit("item-created",!0),l.back()}).catch(t=>{t.response&&t.response.status===422&&(this.errors=t.response.data.errors)}).finally(()=>{this.submitted=!1})},resetform(){this.form={date:"",amount:"",remaining_amount:"",notes:"",patient_id:""}}}},V={class:f("fixed z-10 inset-0 overflow-y-auto "),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},B={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},U={class:"bg-white px-4 pt-5 sm:p-6"},j={class:"grid grid-cols-2 gap-6"},N={class:""},T=["value"],z={key:0,class:"text-red-600 text-xs text-right block"},A={class:""},D={key:0,class:"text-red-600 text-xs text-right block"},F={class:""},M={key:0,class:"text-red-600 text-xs text-right block"},S={class:""},E={key:0,class:"text-red-600 text-xs text-right block"},L={class:"col-span-full"},q={key:0,class:"text-red-600 text-xs text-right block"},G={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-revers"};function H(l,t,I,J,e,u){const g=v("CAsyncButton");return n(),r("div",V,[s("div",B,[s("div",{class:f(`fixed inset-0 bg-gray-500 transition-opacity duration-200 ${e.opened?"bg-opacity-75":"bg-opacity-0"}`),"aria-hidden":"true",onClick:t[0]||(t[0]=o=>u.back())},null,2),t[16]||(t[16]=s("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),s("div",{class:f(`inline-block w-full align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-xl sm:w-full duration-200  ${e.opened?"scale-100":"scale-0"}`)},[t[15]||(t[15]=s("div",{class:"bg-gray-50 px-4 py-2 border-b border-gray-300 text-right"},[s("h3",{class:"font-bold text-lg text-gray-700"},"إضافة دفعة")],-1)),s("div",U,[s("div",j,[s("div",N,[t[9]||(t[9]=s("label",{for:"patient_id",class:"block text-sm font-medium text-gray-700 text-right"},"المريض",-1)),d(s("select",{id:"patient_id","onUpdate:modelValue":t[1]||(t[1]=o=>e.form.patient_id=o),autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},[t[8]||(t[8]=s("option",{value:""},"اختر مريض",-1)),(n(!0),r(y,null,k(e.patients,(o,x)=>(n(),r("option",{value:x},i(o),9,T))),256))],512),[[c,e.form.patient_id]]),e.errors&&e.errors.patient_id?(n(),r("small",z,i(e.errors.patient_id[0]),1)):m("",!0)]),s("div",A,[t[10]||(t[10]=s("label",{for:"date",class:"block text-sm font-medium text-gray-700 text-right"},"تاريخ الدفعة",-1)),d(s("input",{id:"date","onUpdate:modelValue":t[2]||(t[2]=o=>e.form.date=o),type:"date",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[a,e.form.date]]),e.errors&&e.errors.date?(n(),r("small",D,i(e.errors.date[0]),1)):m("",!0)]),s("div",F,[t[11]||(t[11]=s("label",{for:"amount",class:"block text-sm font-medium text-gray-700 text-right"},"المبلغ المدفوع",-1)),d(s("input",{id:"amount","onUpdate:modelValue":t[3]||(t[3]=o=>e.form.amount=o),type:"number",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[a,e.form.amount]]),e.errors&&e.errors.amount?(n(),r("small",M,i(e.errors.amount[0]),1)):m("",!0)]),s("div",S,[t[12]||(t[12]=s("label",{for:"remaining_amount",class:"block text-sm font-medium text-gray-700 text-right"},"المبلغ المتبقي",-1)),d(s("input",{id:"remaining_amount","onUpdate:modelValue":t[4]||(t[4]=o=>e.form.remaining_amount=o),type:"number",autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[a,e.form.remaining_amount]]),e.errors&&e.errors.remaining_amount?(n(),r("small",E,i(e.errors.remaining_amount[0]),1)):m("",!0)]),s("div",L,[t[13]||(t[13]=s("label",{for:"notes",class:"block text-sm font-medium text-gray-700 text-right"},"الإجراء الذي تم",-1)),d(s("textarea",{id:"notes","onUpdate:modelValue":t[5]||(t[5]=o=>e.form.notes=o),autocomplete:"off",class:"block border border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 mt-1 px-2 py-2 rounded-md shadow-sm sm:text-sm w-full"},null,512),[[a,e.form.notes]]),e.errors&&e.errors.notes?(n(),r("small",q,i(e.errors.notes[0]),1)):m("",!0)])])]),s("div",G,[s("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:t[6]||(t[6]=o=>u.back())}," إلغاء "),h(g,{type:"button",loading:e.submitted,class:"w-full inline-flex justify-center rounded-md border border-transparent transition duration-75 transition-all shadow-sm px-4 py-2 bg-teal-600 text-base font-medium text-white hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:t[7]||(t[7]=o=>u.create())},{default:w(()=>t[14]||(t[14]=[_(" تأكيد ")]),void 0),_:1},8,["loading"])])],2)])])}const P=b(C,[["render",H]]);export{P as default};
