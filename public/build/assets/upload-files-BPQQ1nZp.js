import{r as l,p as x,l as y,f as m,c as p,a as e,n,i as h,d as _,k as w,o as f}from"./app-CpCrk5cI.js";/* empty css            */const k={class:n("fixed z-10 inset-0 overflow-y-auto"),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},C={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},$={class:"bg-white px-4 pt-5 sm:p-6"},j={key:0,class:"grid grid-cols-2 gap-6"},B={class:"col-span-full"},T={__name:"upload-files",setup(N){const i=l(null),o=l(!1),r=l(!1),a=l([]),d=x({}),c=l(!1),u=()=>{o.value=!1,setTimeout(()=>{},300)},g=s=>{a.value=s,a.value.length&&v()},v=()=>{c.value=!0,m.patch(`/api/patients/${i.value}/images`,{images:a.value}).then(({data:s})=>{}).catch(s=>{}).finally(()=>{c.value=!1})};return y(()=>{i.value=this.$route.params.id,m.get(`/api/patients/${i.value}`).then(({data:s})=>{Object.assign(d,s),a.value=d.images.map(t=>({source:t.image,options:{type:"local",metadata:{poster:t.image}}})),setTimeout(()=>{o.value=!0,r.value=!0},50)})}),(s,t)=>{const b=w("c-file-pond-component");return f(),p("div",k,[e("div",C,[e("div",{class:n(`fixed inset-0 bg-gray-500 transition-opacity duration-200 ${o.value.value?"bg-opacity-75":"bg-opacity-0"}`),"aria-hidden":"true",onClick:u},null,2),t[1]||(t[1]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",{class:n(`inline-block w-full align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-xl sm:w-full duration-200  ${o.value.value?"scale-100":"scale-0"}`)},[t[0]||(t[0]=e("div",{class:"bg-gray-50 px-4 py-2 border-b border-gray-300 text-right"},[e("h3",{class:"text-lg text-gray-700 font-normal"},"ملفات المريض")],-1)),e("div",$,[r.value.value?(f(),p("div",j,[e("div",B,[h(b,{files:a.value.value,folder:"patients",type:"images",onUpdateFiles:g},null,8,["files"])])])):_("",!0)]),e("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-revers"},[e("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:u}," إلغاء ")])],2)])])}}};export{T as default};
