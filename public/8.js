(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{ooAk:function(e,t,n){"use strict";n.r(t);var a=n("9f/t"),i=n("PN1e"),s=n("PjKf"),r=n("ogxq"),o=n("IrJZ"),l=n.n(o),d=n("vDqi"),c=n.n(d),h={components:{FullCalendar:a.a},data:function(){var e=this;return{events:[],calendarOptions:{locale:l.a,plugins:[i.b,s.a,r.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",initialEvents:[],editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,events:this.events,datesSet:function(t){var n=new Date((t.start.getTime()+t.end.getTime())/2),a="0".concat(n.getMonth()+1);e.getData(+a,n.getFullYear())}},currentEvents:[],key:10,year:"",month:""}},mounted:function(){var e=this;bus.$on("appointment-changed",(function(){e.getData(this.month,this.year)}))},methods:{getData:function(e,t){var n=this;this.year===t&&this.month===e||(this.year=t,this.month=e,c.a.get("/api/appointments?year=".concat(t,"&month=").concat(e)).then((function(e){var t=e.data;n.events=t.map((function(e){return{id:e.id,title:e.patient.name,description:e.notes,className:e.className,date:e.date.replace(/.(\d)*Z/g,""),start:e.start.replace(/.(\d)*Z/g,""),end:e.end.replace(/.(\d)*Z/g,"")}})),n.calendarOptions.events=n.events})))},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleDateSelect:function(e){this.$router.push({name:"appointments-create",query:{date:e.startStr}})},handleEventClick:function(e){this.$router.push({name:"appointments-edit",params:{id:e.event.id}})},handleEvents:function(e){this.currentEvents=e}}},p=n("KHd+"),u=Object(p.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-16 py-8"},[n("div",{staticClass:"demo-app-main"},[n("FullCalendar",{key:e.key,ref:"fullCalendar",staticClass:"demo-app-calendar",attrs:{options:e.calendarOptions},scopedSlots:e._u([{key:"eventContent",fn:function(t){return[n("b",[e._v(e._s(t.timeText))]),e._v(" "),n("i",[e._v(e._s(t.event.title))])]}}])})],1),e._v(" "),n("router-view")],1)}),[],!1,null,null,null);t.default=u.exports}}]);